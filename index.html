<!doctype html>
<meta charset=utf-8>
<html>
	<head>
        <title>Boxes and Arrows</title>
        <link rel="stylesheet" href="./css/boxes-and-arrows.css" type="text/css" media="all">
	    <link rel="stylesheet" href="./css/browser-storage.css" type="text/css" media="all">
        <link rel="stylesheet" href="./css/jquery-ui-1.8.5.custom.css" type="text/css" media="screen">
        <script src="./js/jquery-1.4.2.min.js" type="text/javascript" charset="utf-8"></script>
        <script src="./js/jquery-ui-1.8.5.custom.min.js" type="text/javascript" charset="utf-8"></script>
        <script src="./js/jquery.ui.ipad.js" type="text/javascript" charset="utf-8"></script>
        <script src="./js/raphael-min.js" type="text/javascript" charset="utf-8"></script>
        <script src="./js/parser.js" type="text/javascript" charset="utf-8"></script>
        <script src="./js/boxes-and-arrows.js" type="text/javascript" charset="utf-8"></script>
        <script src="./js/browser-storage.js" type="text/javascript" charset="utf-8"></script>
        <script type="text/javascript" charset="utf-8">

		$(function() {
			$(".ba-toggle-editor").click(function() {
				$(".ba-editor").toggleClass("hidden");
			});
			$(".ba-editor").keyup(editorChanged);
			browserStorage.init(
				function() {
					return JSON.stringify({
						content: $("#ba-content-editor").val(),
						style: $("#ba-style-editor").val()
					});
				},
				function(value) {
					var parsed = JSON.parse(value);
					$("#ba-content-editor").val(parsed.content);
					$("#ba-style-editor").val(parsed.style);
				}
			);
			editorChanged();
		});
        </script>
<style>
</style>
    </head>
<body>

<div class="ba-button-bar">
	<span class="ba-button ba-button-new">New</span>
	<span class="ba-button ba-button-open">Open</span>
	<span class="ba-button ba-button-save">Save</span>
	<span class="ba-button ba-button-save-as">Save As</span>
	<span class="ba-message prototype"></span>
</div>

		<h2>Boxes and Arrows</h2>
		<a class="ba-toggle-editor">Show/Hide Editor</a>
		<div id="ba-work-area">
		<textarea class="ba-editor" id="ba-content-editor"></textarea>
		<textarea class="ba-editor" id="ba-style-editor">
.node {
	border: solid 2px black;
	border-radius: 3px;
	margin: 10px;
	text-align: center;
	overflow: hidden;
}

.label {
	margin: 5px;
}
</textarea>
		<div id="ba-display"></div>

		<div class="node prototype">
			<div class="label"></div>
		</div>
		</div>
		
	<div class="glasspane hidden">
		<div>
			<div class="modal-panel">
				<h2>Open</h2>
				<form>
					<input id="ba-diagram-storage-key" type="text"></input>
					<div>
						<select class="ba-existing-documents-list" size="5">
						</select>
					</div>
					<div>
						<span class="ba-button" id="ba-button-ok">OK</span>
						<span class="ba-button" id="ba-button-cancel">Cancel</span>
					</div>
				</form>
			</div>
		</div>
	</div>
	
</body></html>